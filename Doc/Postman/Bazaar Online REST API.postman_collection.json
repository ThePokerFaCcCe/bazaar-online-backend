{
	"info": {
		"_postman_id": "fa7190d8-0ee2-4bd0-8f9b-6bbe5d5cc529",
		"name": "Bazaar Online REST API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authorization",
			"item": [
				{
					"name": "Email Code Jwt",
					"item": [
						{
							"name": "Send Email Code",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{example_email}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{BASE_URL}}/{{API_VERSION}}/auth/sendEmailLoginCode/",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"auth",
										"sendEmailLoginCode",
										""
									]
								},
								"description": "Send login code to user's email.\n\n*Notes*\n1- Until last login code is not expired, user **can not** get new code and response status will be 400."
							},
							"response": []
						},
						{
							"name": "Login With Email Code",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var res = pm.response.json();\r",
											"pm.collectionVariables.set('JWT_TOKEN', res.token);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{example_email}}\",\r\n    \"code\": \"{{default_active_code}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{BASE_URL}}/{{API_VERSION}}/auth/loginByEmail/",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"auth",
										"loginByEmail",
										""
									]
								},
								"description": "Login and get JWT token.\nthis is next step of `Send Email Code`.\n\n*Notes*\n1- If previous step not called, response status code will be 400.\n2- If code wasn't correct, response status code will be 400.\n3- If code was expired, response status code will be 400.\n\n**Development Note:** in development, default value of `code` is `\"123456\"`.\n\n**Postman Note:** the `token` in body will set to `JWT_TOKEN` variable of collection."
							},
							"response": []
						}
					],
					"description": "**Login with email and get JWT token for authorization.**\n\nAt first, for sending code to user,s email, you must call `Send Email Code`. \nNext, for get JWT token, call `Login With Email Code`."
				}
			],
			"auth": {
				"type": "noauth"
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "User Dashboard",
			"item": [
				{
					"name": "User Short Detail",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/users/me/info",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"users",
								"me",
								"info"
							]
						},
						"description": "Get authenticated user short detail which can be used for getting info after login."
					},
					"response": []
				},
				{
					"name": "Update Dashboard Detail",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"displayName\":\"Bazaar User\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/users/me",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"users",
								"me"
							]
						},
						"description": "Update user dashboard data. like display name.\n\n*fields*\n\n\n`displayName`: \"string\"\n  - **Required**\n  - **Min length** is 4\n  - **Max length** is 60"
					},
					"response": []
				}
			]
		},
		{
			"name": "Category",
			"item": [
				{
					"name": "Get Category List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/categories",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"categories"
							]
						},
						"description": "Return hierarchy list of categories"
					},
					"response": []
				}
			]
		},
		{
			"name": "Map",
			"item": [
				{
					"name": "Get Province List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/map/provinces",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"map",
								"provinces"
							]
						},
						"description": "Get full list of provinces"
					},
					"response": []
				},
				{
					"name": "Get Province City List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/map/provinces/1/cities",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"map",
								"provinces",
								"1",
								"cities"
							]
						},
						"description": "Get full list of cities of a province\n\n*query params*\n\n\n`provinceId`: int\nprovince id to get it's cities\n  - **Required**\n\n*Notes*\n  - If `provinceId` wasn't valid, status code will be 404"
					},
					"response": []
				},
				{
					"name": "Find Location",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/map/find?name=تان",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"map",
								"find"
							],
							"query": [
								{
									"key": "name",
									"value": "تان"
								}
							]
						},
						"description": "Get filtered list of locations. \n\n\n*query_params*\n\n\n`name`: \"string\"\nfilter locations that contain this string\n\n  - **Min length** is 2\n  - **Max length** is 50\n\n\n*Notes*\n\n  - `locationTypeId` : enum\n    - 1 : Province\n    - 2 : City"
					},
					"response": []
				}
			]
		},
		{
			"name": "Advertisement",
			"item": [
				{
					"name": "Create Advertisement",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "Title",
									"value": "وانت نیسان تمیز",
									"description": "string\nMaxLength : 50",
									"type": "default"
								},
								{
									"key": "Description",
									"value": "نوی نو فقط 300 کیلومتر کار کرده\nاما جلوبندی ترکیده",
									"description": "string\nMaxLength : 500",
									"type": "default"
								},
								{
									"key": "Address",
									"value": "قم - باجک - فرهنگیان - بیطرفان 5 - پ3",
									"description": "string\nMaxLength : 100",
									"type": "default"
								},
								{
									"key": "Latitude",
									"value": "34.688582",
									"description": "float",
									"type": "default"
								},
								{
									"key": "Longitude",
									"value": "50.852065",
									"description": "float",
									"type": "default"
								},
								{
									"key": "ContactType",
									"value": "1",
									"description": "enum:\n1: تماس و چت\n2: فقط چت\n3: فقط تماس",
									"type": "default"
								},
								{
									"key": "CategoryId",
									"value": "24",
									"description": "int",
									"type": "default"
								},
								{
									"key": "ProvinceId",
									"value": "19",
									"description": "int",
									"type": "default"
								},
								{
									"key": "CityId",
									"value": "1081",
									"description": "int",
									"type": "default"
								},
								{
									"key": "Pictures",
									"description": ".jpg or .png\nsize smaller that 2000kb",
									"type": "file",
									"src": "/C:/Users/Matin/Desktop/2.jpg"
								}
							]
						},
						"url": {
							"raw": "{{BASE_URL}}/{{API_VERSION}}/advertisements",
							"host": [
								"{{BASE_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"advertisements"
							]
						},
						"description": "Create Advertisement\n\n*fields*\n\n\n`Pictures`: List\n  - Error message is a json string object. example: `[{\\\"0\\\":\\\"حجم فایل بزرگتر از 2000 کیلوبایت است.\\\",\\\"1\\\":\\\"حجم فایل بزرگتر از 2000 کیلوبایت است.\\\"}\"]`\n\n*Notes*\n\n  - **Login Required**"
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{JWT_TOKEN}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "BASE_URL",
			"value": "https://localhost:7223/api",
			"type": "default"
		},
		{
			"key": "API_VERSION",
			"value": "v1",
			"type": "default"
		},
		{
			"key": "JWT_TOKEN",
			"value": "",
			"type": "default"
		},
		{
			"key": "example_email",
			"value": "user@example.com",
			"type": "default"
		},
		{
			"key": "default_active_code",
			"value": "123456",
			"type": "default"
		}
	]
}